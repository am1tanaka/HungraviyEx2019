# クリア
クリアの流れは以下の通り。

- ぐらびぃがClearタグのトリガーを検出したら開始
  - ぐらびぃの操作、当たり判定を無効
  - カメラ位置を調整
  - クリア演出開始
  - 自動でブラックホールを発生
  - クリアオブジェクトの縮小と移動開始
- クリアオブジェクトの縮小が完了したら開始
  - ブラックホールを消す
  - ぐらびぃの口を開く
  - クリアオブジェクトを口へ
- クリアオブジェクトが口へ到達したら開始
  - ぐらびぃの口を閉じる
  - クリア表示
  - 残り秒数を得点にする
  - アイテムのパーフェクトボーナス
- クリックか、時間経過で次のステージへ

## 実装
クリアの処理は、ぐらびぃ、ブラックホール、クリアオブジェクトを連携させて処理する必要がある。また、タイムボーナスなどの進行役でもあるので、統括役であるGameManagerに流れを管理させる。

クリアの動作は一連の流れがある。アニメーションや音声を固定のタイミングで動かすならタイムライン(TimeLine)、スクリプトによる制御がしたい場合はコルーチンを使うと手軽に実現できる。今回はキャラのいる位置に応じて動きが変わるのでコルーチンで実装する。

ぐらびぃがクリアオブジェクトに触れたら、GameManager.Clear()を呼び出す。このメソッドがクリア処理のコルーチンを開始して、クリアの一連の動作を制御する。

### タイムボーナス
タイムボーナスは桁ごとに実行する。まずは一番下の桁を0になるまで1つずつ減らしながら得点にする。それを最上桁まで行う。
