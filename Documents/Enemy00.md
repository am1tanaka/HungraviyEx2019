# 敵00の実装
敵の動きを実装します。ブラックホールに吸い込まれる処理は、ぐらびぃと同じものを使えるのでひとまず保留して、動きのみを実装します。これなら、プレイヤーの開発と同時に開発することが可能です。

# 動き方と状態
星型の敵の動き方を考えます。

- ゲームの返し前、ゲームオーバー、クリア、ポーズ中は静止
- ブラックホールの影響を受けず、縮み中でもなければ以下
  - 足元に地面がなければ重力落下
  - 地面がある時は前進
  - 歩く先に足場がない場合、移動方向を反転
- ブラックホールの影響下の時、吸い寄せられる
  - ブラックホールと衝突中、縮む
  - 縮みアニメが終わったらお菓子に変化
- ブラックホールと接触してなく、縮んでいる時は逆再生
  - 重力落下

状態は以下の通りです。

- CanMoveフラグで、動けるかどうかを示す
- ブラックホールの影響を受けたかどうかは毎回判定
- 通常状態、縮み中、縮みからの解放中を状態で記録
- 足元に地面があるかは、毎回Physics2D.BoxCastNonAllocで判定

# アニメ
アニメーションについて検討します。

- ゲームの開始直後は、Stand
- CanMoveがfalseの時は変更しない
- 落下中は、Stand
- 歩き中は、Walk
- 吸い寄せられ中は、Sucked
- 縮み中は、Blackhole
- 縮みからの解放は、Blackholeの逆再生

以上より、パラメーターを検討します。

- Integer型のStateを用意して、Stand, Walk, Sucked, Blackholeを制御
- 逆再生はスクリプトで制御

以上に従って、アニメーターを作成します。

![敵00のアニメーター](Images/Enemy00.png)

遷移をシンプルにするために、すべての状態は一回Standに戻るように設定しました。例えば、StandからWalkへのトランジションは、State Equals 1にして、WalkからStandへのトランジションをState Not Equals 1にしました。これにより、状態が1以外になったら一度Walkに移行して、次に他の状態へ移行します。

1フレーム、歩きが挟まるのを避けるには、
