# 背景スクロール
背景をスクロールさせたい。上下はグラフィック的に無限には続けられないので、ぐらびぃが最も上にいる時と最も下にいる時に、背景の端が表示されるようにパラメーターを調整する。上下スクロールの割合を左右に適用して、同じ割合で左右も動かす。左右はループ画像になっているので、テクスチャーのタイリングでループさせる。

カメラのワールド座標をスクロールの基準の座標とする。カメラの上下端のワールド座標と、背景画像の上下端のマテリアルタイリングのオフセット値から、実際のタイリングのオフセット値を算出する。

```
var t = (myCamera.transform.position.y-bottomY)/(topY-bottomY);
var bgy = Mathf.Lerp(bottomBGY, topBGY, t);
```

なお、背景のサイズを同じにしておくと、背景の上端と下端の値は同じになるので調整が楽になる。

## X方向

### 座標変換
Yのスクロール設定から、ワールド座標とタイリング座標の変換率が算出できる。

```
var wtobg = (topBGY-bottomBGY)/(topY-bottomY);
```

これをカメラのX座標に掛けた値を、マテリアルのOffsetXに設定する。
